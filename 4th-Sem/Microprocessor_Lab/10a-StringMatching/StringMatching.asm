; Assembly Level Program 10a
; Find out whether a given sub-string is present or not in a main string of characters.

.MODEL SMALL
.STACK
DIS_MSG MACRO P1 ; DISPLAY MESSAGE
MOV AH,09H
LEA DX,P1
INT 21H ; CALL DOS SERVICES
ENDM
READ MACRO P1
MOV AH,0AH
LEA DX,P1
INT 21H
ENDM
.DATA
CR EQU 0DH
LF EQU 0AH
M3 DB CR,LF,'ENTER THE MAIN STRING:$'
M4 DB CR,LF,'ENTER THE SUB STRING:$'
M1 DB CR,LF,'THE SUB STRING IS FOUND:$'
M2 DB CR,LF,'THE SUB STRING IS NOT FOUND:$'
Z DB 50H
DB 0H
DB 50H DUP(?)
Y DB 50H
DB 0H
DB 50H DUP(?)
.CODE
MOV AX,@DATA
MOV DS,AX
DIS_MSG M3
READ Z
DIS_MSG M4
READ Y
MOV CL,Z+1
LEA SI,Z
ADD SI,2H
LOOP1: PUSH SI
LEA DI,Y
ADD DI,2H
MOV CH,Y+1
MOV BH,00H
LOOP3: MOV AL,[SI]
CMP AL,[DI]
JNE LOOP2
INC SI
INC DI
INC BH
CMP BH,Y+1
JE MES1
DEC CH
JNZ LOOP3
LOOP2: POP SI
INC SI
DEC CL
CMP CL,00H
JNE LOOP1
DIS_MSG M2
JMP TER
MES1: DIS_MSG M1
TER: MOV AH,4CH
INT 21H
END